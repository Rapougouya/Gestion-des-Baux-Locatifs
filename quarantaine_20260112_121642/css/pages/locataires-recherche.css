/* Page-specific styles for locataires/recherche.html */

/* Base container: stacked layout on small screens */
.search-results-container {
  display: flex;
  flex-direction: column;
  gap: 1.25rem;
  padding: 10px;
  align-items: stretch;
}

/* Map section: full width in the content area */
.map-section {
  position: relative;
  width: 100%;
  margin: 0 auto;
}

.property-map {
  width: 100% !important;
  height: 66vh;
  min-height: 380px;
  border-radius: 12px;
  box-shadow: 0 6px 18px rgba(15,23,42,0.06);
  border: 1px solid var(--border-light);
}

.map-legend {
  position: absolute;
  left: 16px;
  bottom: 16px;
  background: rgba(255,255,255,0.97);
  padding: 8px 12px;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(2,6,23,0.06);
  border: 1px solid var(--border-light);
  z-index: 400;
}

.map-legend .legend-item { display: flex; align-items: center; gap: 8px; font-size: 0.95rem; }
.legend-marker { width: 12px; height: 12px; border-radius: 50%; display: inline-block; }

/* Results area */
.search-results {
  width: 100%;
  margin: 0 auto 30px auto;
}

.results-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; gap: 12px; }
.properties-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem; }

.property-card { background: var(--surface); border: 1px solid var(--border-light); border-radius: 10px; overflow: hidden; box-shadow: var(--shadow); display: flex; flex-direction: column; }
.property-card .card-image { width: 100%; height: 180px; object-fit: cover; }
.property-card .card-body { padding: 1rem; flex: 1; display: flex; flex-direction: column; gap: 0.5rem; }
.property-card .card-footer { padding: 0.75rem 1rem; border-top: 1px solid var(--border-light); display: flex; justify-content: space-between; align-items: center; }

.pagination { display: flex; gap: 0.5rem; justify-content: center; margin-top: 1.25rem; }

/* Responsive tweaks */
@media (max-width: 992px) {
  .property-map { height: 56vh; }
  .properties-grid { grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); }
}

@media (max-width: 576px) {
  .property-map { height: 48vh; }
  .map-legend { left: 8px; bottom: 8px; padding: 6px 8px; }
}

/* Desktop: place sidebar on the left (assumed 280px) and make the content area a two-column layout
   where the map is wide and the results column is comfortable for cards. This prevents overlap
   and keeps the map visually dominant. */
@media (min-width: 992px) {
  .search-results-container {
    flex-direction: row;
    align-items: flex-start;
    gap: 20px;
    margin-left: 280px; /* reserve space for the sidebar */
    padding-right: 10px;
  }

  /* Map column: take more space so the map is large */
  .map-section {
    flex: 2 1 0;
    max-width: calc(100% - 420px); /* leave room for the results column */
  }

  /* Results column: narrow column for cards list */
  .search-results {
    flex: 1 1 400px;
    max-width: 420px;
    margin: 0;
  }

  .property-map { height: 72vh; min-height: 540px; }

  /* Ensure legend stays inside the map area */
  .map-legend { left: 12px; bottom: 12px; }
}

/* Utility: ensure properties grid scrolls if content grows too tall in the results column */
@media (min-width: 992px) {
  .search-results { max-height: calc(100vh - 220px); overflow-y: auto; padding-right: 8px; }
}
