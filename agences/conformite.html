<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conformité - Agences Immobilière | PNSBIL</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/agences-ministerial.css">
    <link rel="stylesheet" href="../css/pages/agences-conformite.css">
    </head>
<body>
    <!-- Banneau Ministériel -->
    <div class="ministerial-banner">
        <div class="banner-content">
            <div class="banner-left">
                <i class="fas fa-shield-alt"></i>
                <span>République du Burkina Faso</span>
            </div>
            <div class="banner-title">
                <div class="title-main">MINISTÈRE DE L'HABITAT, DE L'URBANISME ET DE LA VILLE</div>
                <div class="title-sub">Plateforme PNSBIL - Gestion Intégrée des Baux Locatifs</div>
            </div>
            <div class="banner-security">
                <i class="fas fa-lock"></i>
                <span>Sécurisé SSL</span>
            </div>
        </div>
    </div>

    <header class="dashboard-header">
        <div class="header-content">
            <div class="logo">
                <span>🏠 PNSBIL</span>
                <span class="logo-subtitle">Conformité</span>
            </div>
            <div class="user-menu">
                <span class="user-name" id="userName">Agence Immobilière Premium</span>
                <button class="btn btn-outline" onclick="logout()">Déconnexion</button>
            </div>
        </div>
    </header>

    <div class="main-container">
        <nav class="sidebar" id="sidebar">
            <div class="nav-section">
                <div class="nav-title">Gestion Professionnelle</div>
                <a href="dashboard.html" class="nav-link">
                    <span class="nav-icon">📊</span>
                    <span>Tableau de bord</span>
                </a>
                <a href="portefeuille.html" class="nav-link">
                    <span class="nav-icon">🏘️</span>
                    <span>Mon portefeuille</span>
                </a>
                <a href="transactions.html" class="nav-link">
                    <span class="nav-icon">🔄</span>
                    <span>Transactions</span>
                </a>
                <a href="conformite.html" class="nav-link active">
                    <span class="nav-icon">📋</span>
                    <span>Conformité</span>
                </a>
                <a href="rapports-pro.html" class="nav-link">
                    <span class="nav-icon">📈</span>
                    <span>Rapports Pro</span>
                </a>
            </div>
            
            <div class="nav-section">
                <div class="nav-title">Communication</div>
                <a href="communication.html" class="nav-link">
                    <span class="nav-icon">💬</span>
                    <span>Messagerie</span>
                </a>
            </div>

            <div class="nav-section">
                <div class="nav-title">Support</div>
                <a href="support.html" class="nav-link">
                    <span class="nav-icon">🛟</span>
                    <span>Centre d'aide</span>
                </a>
                <a href="parametres.html" class="nav-link">
                    <span class="nav-icon">⚙️</span>
                    <span>Paramètres</span>
                </a>
            </div>
        </nav>

        <main class="main-content">
            <!-- En-tête de page -->
            <div class="page-header">
                <div class="header-actions d-flex justify-between items-center mb-sm">
                    <h1 class="page-title">Conformité Réglementaire</h1>
                    <div class="header-buttons d-flex gap-md">
                        <button class="btn btn-outline" onclick="generateComplianceCertificate()">
                            <span>📜</span>
                            <span>Attestation</span>
                        </button>
                        <button class="btn btn-primary" onclick="runComplianceCheck()">
                            <span>🛡️</span>
                            <span>Vérifier conformité</span>
                        </button>
                    </div>
                </div>
                <p class="page-subtitle">Surveillez et maintenez la conformité de vos activités immobilières</p>
            </div>

            <!-- État de conformité -->
            <div class="compliance-status">
                <div class="status-overview">
                    <div class="status-card compliant">
                        <div class="status-icon">✅</div>
                        <div class="status-content">
                            <div class="status-value">94%</div>
                            <div class="status-label">Taux de conformité</div>
                            <div class="status-desc">127/135 biens conformes</div>
                        </div>
                    </div>
                    <div class="status-card warning">
                        <div class="status-icon">⚠️</div>
                        <div class="status-content">
                            <div class="status-value">8</div>
                            <div class="status-label">Alertes actives</div>
                            <div class="status-desc">Nécessitent attention</div>
                        </div>
                    </div>
                    <div class="status-card critical">
                        <div class="status-icon">🚨</div>
                        <div class="status-content">
                            <div class="status-value">3</div>
                            <div class="status-label">Non-conformités critiques</div>
                            <div class="status-desc">Action immédiate requise</div>
                        </div>
                    </div>
                    <div class="status-card info">
                        <div class="status-icon">📅</div>
                        <div class="status-content">
                            <div class="status-value">15</div>
                            <div class="status-label">Échéances ce mois</div>
                            <div class="status-desc">Documents à mettre à jour</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Checklist de conformité -->
            <div class="compliance-checklist">
                <div class="section-header">
                    <h3>📋 Checklist de Conformité</h3>
                    <button class="btn btn-outline" onclick="exportChecklist()">
                        <span>📥</span>
                        <span>Exporter</span>
                    </button>
                </div>

                <div class="checklist-categories">
                    <div class="category-card">
                        <div class="category-header">
                            <h5>📑 Conformité des Baux</h5>
                            <span class="completion-rate">92%</span>
                        </div>
                        <div class="checklist-items">
                            <div class="checklist-item completed">
                                <div class="check-status"><span>✅</span></div>
                                <div class="check-content">
                                    <span class="block fw-600">Clauses obligatoires incluses</span>
                                    <small class="text-muted">Article L.121-1 du Code de l'habitation</small>
                                </div>
                                <div class="check-actions">
                                    <button class="btn-icon" onclick="viewDetails('clauses')"><span>👁️</span></button>
                                </div>
                            </div>
                            <div class="checklist-item warning">
                                <div class="check-status"><span>⚠️</span></div>
                                <div class="check-content">
                                    <span class="block fw-600">Indexation des loyers</span>
                                    <small class="text-muted">3 baux nécessitent révision</small>
                                </div>
                                <div class="check-actions">
                                    <button class="btn btn-sm btn-warning" onclick="fixIssue('indexation')">Corriger</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="category-card">
                        <div class="category-header">
                            <h5>💰 Conformité Fiscale</h5>
                            <span class="completion-rate">88%</span>
                        </div>
                        <div class="checklist-items">
                            <div class="checklist-item critical">
                                <div class="check-status"><span>❌</span></div>
                                <div class="check-content">
                                    <span class="block fw-600">Paiement impôts locatifs</span>
                                    <small class="text-muted">2 propriétés en retard</small>
                                </div>
                                <div class="check-actions">
                                    <button class="btn btn-sm btn-danger" onclick="payTaxes()">Payer</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Alertes de conformité -->
            <div class="compliance-alerts">
                <div class="section-header">
                    <h3>🚨 Alertes de Conformité</h3>
                    <span class="badge badge-warning">8 alertes non traitées</span>
                </div>

                <div class="alerts-list">
                    <div class="alert-item critical">
                        <div class="alert-icon"><span>⚠️</span></div>
                        <div class="alert-content flex-1">
                            <h6 class="fw-600 mb-xs">Impôt locatif en retard</h6>
                            <p class="mb-xs">Villa Mermoz - 45 jours de retard</p>
                            <small class="text-muted">Échéance: 15/02/2024 • Montant: 540,000 FCFA</small>
                        </div>
                        <div class="alert-actions">
                            <button class="btn btn-sm btn-danger" onclick="resolveAlert(1)">Régler</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Historique des audits -->
            <div class="audit-history">
                <div class="section-header">
                    <h3>📊 Historique des Audits</h3>
                    <button class="btn btn-outline" onclick="scheduleAudit()">
                        <span>📅</span>
                        <span>Programmer audit</span>
                    </button>
                </div>

                <div class="audit-timeline">
                    <div class="audit-item">
                        <div class="audit-date w-100px fw-600">15/03/2024</div>
                        <div class="audit-content flex-1">
                            <div class="audit-header d-flex justify-between mb-sm">
                                <h6 class="fw-600">Audit de conformité trimestriel</h6>
                                <span class="completion-rate">94%</span>
                            </div>
                            <p class="text-muted mb-sm">Vérification complète des 135 biens gérés</p>
                            <div class="audit-details">
                                <span>✅ 127 biens conformes</span>
                                <span>⚠️ 5 alertes mineures</span>
                                <span>🚨 3 non-conformités majeures</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Footer -->
    <footer class="dashboard-footer">
        <div class="footer-content">
            <div class="footer-grid">
                <div class="footer-section">
                    <h5>PNSBIL</h5>
                    <p class="footer-soft">Plateforme Nationale de Suivi des Baux et Perception des Impôts Locatifs</p>
                </div>
                <div class="footer-section">
                    <h5>Liens rapides</h5>
                    <ul class="list-unstyled">
                        <li><a class="footer-link" href="dashboard.html">Tableau de bord</a></li>
                        <li><a class="footer-link" href="portefeuille.html">Portefeuille</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h5>Contact</h5>
                    <p class="footer-muted">📍 Ouagadougou, Burkina Faso</p>
                    <p class="footer-muted">✉️ support@pnsbil.bf</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 PNSBIL - Ministère de l'Habitat. Tous droits réservés.</p>
            </div>
        </div>
    </footer>

    <script>
        function logout() {
            if (confirm('Êtes-vous sûr de vouloir vous déconnecter ?')) {
                window.location.href = '../login.html';
            }
        }
        function generateComplianceCertificate() { alert('Génération de l\'attestation...'); }
        function runComplianceCheck() { alert('Vérification en cours...'); }
        function exportChecklist() { alert('Exportation...'); }
        function viewDetails(type) { alert('Détails: ' + type); }
        function fixIssue(type) { alert('Correction: ' + type); }
        function payTaxes() { alert('Redirection vers paiement...'); }
        function resolveAlert(id) { alert('Résolution alerte ' + id); }
        function scheduleAudit() { alert('Programmation audit...'); }
    </script>
</body>
</html>