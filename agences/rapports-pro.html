<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rapports Professionnels - Agence Immobili√®re | PNSBIL</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/dashboard.css">
    <link rel="stylesheet" href="../css/rapport-pro.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <header class="dashboard-header">
        <div class="header-content">
            <div class="logo">
                <span>üè† PNSBIL</span>
                <span>Rapports Professionnels</span>
            </div>
            <div class="user-menu">
                <span class="user-name" id="userName">Agence Immobili√®re Premium</span>
                <button class="btn btn-outline" onclick="logout()">D√©connexion</button>
            </div>
        </div>
    </header>

    <nav class="sidebar">
        <div class="nav-section">
            <h3>Gestion Professionnelle</h3>
            <a href="dashboard.html" class="nav-link">üìä Tableau de bord</a>
            <a href="portefeuille.html" class="nav-link">üèòÔ∏è Mon portefeuille</a>
            <a href="transactions.html" class="nav-link">üîÑ Transactions</a>
            <a href="conformite.html" class="nav-link">üìã Conformit√©</a>
            <a href="rapports-pro.html" class="nav-link active">üìà Rapports Pro</a>
        </div>
        
        <div class="nav-section">
            <h3>Communication</h3>
            <a href="communication.html" class="nav-link">üí¨ Messagerie</a>
        </div>
    </nav>

    <main class="main-content">
        <div class="page-header">
            <div class="header-actions">
                <h1>Rapports Professionnels</h1>
                <div class="header-buttons">
                    <button class="btn btn-outline" onclick="exportBusinessIntelligence()">
                        <i class="fas fa-file-export me-2"></i>Export BI
                    </button>
                    <button class="btn btn-primary" onclick="createExecutiveReport()">
                        <i class="fas fa-chart-line me-2"></i>Rapport direction
                    </button>
                </div>
            </div>
            <p>Analysez vos performances et g√©n√©rez des rapports d√©taill√©s</p>
        </div>

        <!-- KPI Principaux -->
        <div class="business-kpis">
            <div class="kpi-grid">
                <div class="kpi-card primary">
                    <div class="kpi-icon">üí∞</div>
                    <div class="kpi-content">
                        <div class="kpi-value">18.5M FCFA</div>
                        <div class="kpi-label">Chiffre d'affaires</div>
                        <div class="kpi-trend positive">
                            <i class="fas fa-arrow-up"></i>
                            <span>+15% vs mois dernier</span>
                        </div>
                    </div>
                </div>
                <div class="kpi-card success">
                    <div class="kpi-icon">üèòÔ∏è</div>
                    <div class="kpi-content">
                        <div class="kpi-value">127</div>
                        <div class="kpi-label">Biens g√©r√©s</div>
                        <div class="kpi-trend positive">
                            <i class="fas fa-arrow-up"></i>
                            <span>+8 ce mois</span>
                        </div>
                    </div>
                </div>
                <div class="kpi-card warning">
                    <div class="kpi-icon">üìä</div>
                    <div class="kpi-content">
                        <div class="kpi-value">94%</div>
                        <div class="kpi-label">Taux d'occupation</div>
                        <div class="kpi-trend positive">
                            <i class="fas fa-arrow-up"></i>
                            <span>+2.3%</span>
                        </div>
                    </div>
                </div>
                <div class="kpi-card info">
                    <div class="kpi-icon">‚≠ê</div>
                    <div class="kpi-content">
                        <div class="kpi-value">4.7/5</div>
                        <div class="kpi-label">Satisfaction clients</div>
                        <div class="kpi-trend">
                            <span>156 avis</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Rapports de Performance -->
        <div class="performance-reports">
            <div class="section-header">
                <h3>üìà Performance Commerciale</h3>
                <div class="report-period">
                    <select id="performancePeriod" onchange="updatePerformanceCharts()">
                        <option value="month">Mois</option>
                        <option value="quarter" selected>Trimestre</option>
                        <option value="year">Ann√©e</option>
                    </select>
                </div>
            </div>

            <div class="performance-grid">
                <div class="performance-widget">
                    <div class="widget-header">
                        <h5>üí∞ √âvolution du CA</h5>
                        <button class="btn-icon" onclick="downloadRevenueReport()">
                            <i class="fas fa-download"></i>
                        </button>
                    </div>
                    <div class="widget-content">
                        <div class="revenue-chart">
                            <div class="chart-container">
                                <div class="chart-placeholder">
                                    <i class="fas fa-chart-line"></i>
                                    <p>Graphique d'√©volution du chiffre d'affaires</p>
                                </div>
                            </div>
                        </div>
                        <div class="revenue-breakdown">
                            <div class="breakdown-item">
                                <span>Location:</span>
                                <strong>12.8M FCFA</strong>
                            </div>
                            <div class="breakdown-item">
                                <span>Gestion:</span>
                                <strong>4.2M FCFA</strong>
                            </div>
                            <div class="breakdown-item">
                                <span>Vente:</span>
                                <strong>1.5M FCFA</strong>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="performance-widget">
                    <div class="widget-header">
                        <h5>üèòÔ∏è Performance du Portefeuille</h5>
                        <button class="btn-icon" onclick="downloadPortfolioReport()">
                            <i class="fas fa-download"></i>
                        </button>
                    </div>
                    <div class="widget-content">
                        <div class="portfolio-metrics">
                            <div class="metric-row">
                                <div class="metric">
                                    <div class="metric-value">94%</div>
                                    <div class="metric-label">Taux d'occupation</div>
                                </div>
                                <div class="metric">
                                    <div class="metric-value">87%</div>
                                    <div class="metric-label">Taux de rotation</div>
                                </div>
                            </div>
                            <div class="metric-row">
                                <div class="metric">
                                    <div class="metric-value">23j</div>
                                    <div class="metric-label">D√©lai moyen location</div>
                                </div>
                                <div class="metric">
                                    <div class="metric-value">4.7/5</div>
                                    <div class="metric-label">Satisfaction locataires</div>
                                </div>
                            </div>
                        </div>
                        <div class="portfolio-growth">
                            <div class="growth-item positive">
                                <i class="fas fa-arrow-up"></i>
                                <span>+8 nouveaux biens ce mois</span>
                            </div>
                            <div class="growth-item positive">
                                <i class="fas fa-chart-line"></i>
                                <span>+12% de valorisation</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="performance-widget">
                    <div class="widget-header">
                        <h5>üë• Performance des Agents</h5>
                        <button class="btn-icon" onclick="downloadAgentReport()">
                            <i class="fas fa-download"></i>
                        </button>
                    </div>
                    <div class="widget-content">
                        <div class="agents-ranking">
                            <div class="agent-item">
                                <div class="agent-info">
                                    <div class="agent-avatar">MD</div>
                                    <div class="agent-details">
                                        <strong>M. Diallo</strong>
                                        <span>28 transactions</span>
                                    </div>
                                </div>
                                <div class="agent-performance">
                                    <span class="performance-value">4.2M FCFA</span>
                                    <div class="performance-bar">
                                        <div class="bar-fill" style="width: 95%"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="agent-item">
                                <div class="agent-info">
                                    <div class="agent-avatar">MS</div>
                                    <div class="agent-details">
                                        <strong>Mme Sow</strong>
                                        <span>24 transactions</span>
                                    </div>
                                </div>
                                <div class="agent-performance">
                                    <span class="performance-value">3.8M FCFA</span>
                                    <div class="performance-bar">
                                        <div class="bar-fill" style="width: 85%"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="agent-item">
                                <div class="agent-info">
                                    <div class="agent-avatar">BN</div>
                                    <div class="agent-details">
                                        <strong>M. Ndiaye</strong>
                                        <span>19 transactions</span>
                                    </div>
                                </div>
                                <div class="agent-performance">
                                    <span class="performance-value">2.9M FCFA</span>
                                    <div class="performance-bar">
                                        <div class="bar-fill" style="width: 70%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Analytics Avanc√©s -->
        <div class="advanced-analytics">
            <div class="section-header">
                <h3>üîç Analytics Avanc√©s</h3>
                <button class="btn btn-outline" onclick="openDataStudio()">
                    <i class="fas fa-sliders-h me-2"></i>Studio de donn√©es
                </button>
            </div>

            <div class="analytics-tabs">
                <div class="tab-headers">
                    <button class="tab-header active" onclick="switchAnalyticsTab('market')">
                        üìä Analyse March√©
                    </button>
                    <button class="tab-header" onclick="switchAnalyticsTab('clients')">
                        üë• Comportement Clients
                    </button>
                    <button class="tab-header" onclick="switchAnalyticsTab('financial')">
                        üí∞ Analyse Financi√®re
                    </button>
                </div>

                <div class="tab-content active" id="market-tab">
                    <div class="market-analysis">
                        <div class="analysis-section">
                            <h5>üèôÔ∏è Performance par Zone</h5>
                            <div class="zones-performance">
                                <div class="zone-performance">
                                    <span class="zone-name">Almadies</span>
                                    <div class="performance-stats">
                                        <span class="stat">Loyer moyen: 450K FCFA</span>
                                        <span class="stat">Occupation: 96%</span>
                                        <span class="stat">Rendement: 7.2%</span>
                                    </div>
                                </div>
                                <div class="zone-performance">
                                    <span class="zone-name">Plateau</span>
                                    <div class="performance-stats">
                                        <span class="stat">Loyer moyen: 380K FCFA</span>
                                        <span class="stat">Occupation: 94%</span>
                                        <span class="stat">Rendement: 6.8%</span>
                                    </div>
                                </div>
                                <div class="zone-performance">
                                    <span class="zone-name">Mermoz</span>
                                    <div class="performance-stats">
                                        <span class="stat">Loyer moyen: 320K FCFA</span>
                                        <span class="stat">Occupation: 92%</span>
                                        <span class="stat">Rendement: 6.5%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="clients-tab">
                    <!-- Analyse clients -->
                </div>

                <div class="tab-content" id="financial-tab">
                    <!-- Analyse financi√®re -->
                </div>
            </div>
        </div>

        <!-- Rapports Automatis√©s -->
        <div class="automated-reports">
            <div class="section-header">
                <h3>ü§ñ Rapports Automatis√©s</h3>
                <button class="btn btn-primary" onclick="configureAutomation()">
                    <i class="fas fa-cog me-2"></i>Configurer
                </button>
            </div>

            <div class="automation-list">
                <div class="automation-item">
                    <div class="automation-info">
                        <div class="automation-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="automation-details">
                            <h6>Rapport Hebdomadaire</h6>
                            <p>Envoy√© chaque lundi √† 8h</p>
                            <small>Destinataires: Direction, √âquipe commerciale</small>
                        </div>
                    </div>
                    <div class="automation-status active">
                        <span class="status-badge active">Actif</span>
                        <button class="btn-icon" onclick="editAutomation(1)">
                            <i class="fas fa-edit"></i>
                        </button>
                    </div>
                </div>

                <div class="automation-item">
                    <div class="automation-info">
                        <div class="automation-icon">
                            <i class="fas fa-chart-pie"></i>
                        </div>
                        <div class="automation-details">
                            <h6>Rapport Mensuel Direction</h6>
                            <p>G√©n√©r√© le 1er de chaque mois</p>
                            <small>Destinataires: Comit√© de direction</small>
                        </div>
                    </div>
                    <div class="automation-status active">
                        <span class="status-badge active">Actif</span>
                        <button class="btn-icon" onclick="editAutomation(2)">
                            <i class="fas fa-edit"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="../../js/dashboard.js"></script>
    <script>
        function updatePerformanceCharts() {
            const period = document.getElementById('performancePeriod').value;
            console.log(`Mise √† jour performance pour: ${period}`);
            // Actualiser les graphiques
        }

        function downloadRevenueReport() {
            console.log("T√©l√©chargement rapport revenus");
            // Impl√©mentation t√©l√©chargement
        }

        function downloadPortfolioReport() {
            console.log("T√©l√©chargement rapport portefeuille");
            // Impl√©mentation t√©l√©chargement
        }

        function downloadAgentReport() {
            console.log("T√©l√©chargement rapport agents");
            // Impl√©mentation t√©l√©chargement
        }

        function switchAnalyticsTab(tabName) {
            console.log(`Changement onglet analytics: ${tabName}`);
            // Logique changement d'onglet
        }

        function openDataStudio() {
            console.log("Ouverture studio de donn√©es");
            // Ouvrir interface analytics avanc√©s
        }

        function configureAutomation() {
            console.log("Configuration automatisation");
            // Ouvrir interface configuration
        }

        function editAutomation(automationId) {
            console.log(`√âdition automatisation: ${automationId}`);
            // Ouvrir √©dition automatisation
        }

        function exportBusinessIntelligence() {
            console.log("Export Business Intelligence");
            // Impl√©mentation export BI
        }

        function createExecutiveReport() {
            console.log("Cr√©ation rapport direction");
            // G√©n√©ration rapport ex√©cutif
        }
    </script>

    <!-- Footer -->
    <footer class="bg-dark text-white pt-5 pb-3">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 mb-4">
                    <h5 class="fw-bold mb-3">PNSBIL</h5>
                    <p>Plateforme Nationale de Suivi des Baux et Perception des Imp√¥ts Locatifs</p>
                    <p>Modernisation et digitalisation de la gestion du march√© locatif.</p>
                </div>
                <div class="col-lg-2 col-md-4 mb-4">
                    <h5 class="fw-bold mb-3">Liens rapides</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="index.html" class="text-white-50 text-decoration-none">Accueil</a></li>
                        <li class="mb-2"><a href="properties.html" class="text-white-50 text-decoration-none">Propri√©t√©s</a></li>
                        <li class="mb-2"><a href="leases.html" class="text-white-50 text-decoration-none">Baux</a></li>
                        <li class="mb-2"><a href="taxes.html" class="text-white-50 text-decoration-none">Imp√¥ts</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-4 mb-4">
                    <h5 class="fw-bold mb-3">Ressources</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="#" class="text-white-50 text-decoration-none">FAQ</a></li>
                        <li class="mb-2"><a href="#" class="text-white-50 text-decoration-none">Guides</a></li>
                        <li class="mb-2"><a href="#" class="text-white-50 text-decoration-none">Contact</a></li>
                        <li class="mb-2"><a href="#" class="text-white-50 text-decoration-none">Mentions l√©gales</a></li>
                    </ul>
                </div>
                <div class="col-lg-4 col-md-4 mb-4">
                    <h5 class="fw-bold mb-3">Contact</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><i class="fas fa-map-marker-alt me-2"></i> Avenue XXXXX, Dakar, S√©n√©gal</li>
                        <li class="mb-2"><i class="fas fa-phone me-2"></i> +221 33 123 45 67</li>
                        <li class="mb-2"><i class="fas fa-envelope me-2"></i> contact@pnsbil.sn</li>
                    </ul>
                </div>
            </div>
            <hr class="my-4">
            <div class="text-center">
                <p class="mb-0">&copy; 2023 PNSBIL - Tous droits r√©serv√©s</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
</body>
</html>